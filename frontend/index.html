<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Game - Line 98 & Cá» Caro</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Login/Register Screen -->
    <div id="authScreen" class="container">
        <div class="header">
            <div class="logo">ğŸ® Game Server</div>
            <div class="subtitle">Line 98 & Cá» Caro X O</div>
        </div>

        <div id="errorMessage" class="error"></div>
        <div id="successMessage" class="success"></div>

        <!-- Login Form -->
        <div id="loginForm">
            <h2 style="text-align: center; margin-bottom: 20px; color: #333;">ÄÄƒng nháº­p</h2>
            <form id="loginFormElement">
                <div class="form-group">
                    <label for="loginUsername">TÃªn Ä‘Äƒng nháº­p:</label>
                    <input type="text" id="loginUsername" autocomplete="username" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Máº­t kháº©u:</label>
                    <input type="password" id="loginPassword" autocomplete="current-password" required>
                </div>
                <button type="submit" class="btn btn-primary">ÄÄƒng nháº­p</button>
            </form>
            <button id="showRegister" class="btn btn-secondary">ChÆ°a cÃ³ tÃ i khoáº£n? ÄÄƒng kÃ½ ngay</button>
        </div>

        <!-- Register Form -->
        <div id="registerForm" style="display: none;">
            <h2 style="text-align: center; margin-bottom: 20px; color: #333;">ÄÄƒng kÃ½</h2>
            <form id="registerFormElement">
                <div class="form-group">
                    <label for="registerUsername">TÃªn Ä‘Äƒng nháº­p:</label>
                    <input type="text" id="registerUsername" autocomplete="username" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Máº­t kháº©u:</label>
                    <input type="password" id="registerPassword" autocomplete="new-password" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email (tÃ¹y chá»n):</label>
                    <input type="email" id="registerEmail">
                </div>
                <div class="form-group">
                    <label for="registerNickname">Nickname (tÃ¹y chá»n):</label>
                    <input type="text" id="registerNickname">
                </div>
                <button type="submit" class="btn btn-primary">ÄÄƒng kÃ½</button>
            </form>
            <button id="showLogin" class="btn btn-secondary">ÄÃ£ cÃ³ tÃ i khoáº£n? ÄÄƒng nháº­p</button>
        </div>
    </div>

    <!-- Game Selection Screen -->
    <div id="gameSelectionScreen" class="game-container" style="display: none;">
        <div class="header">
            <div class="logo">ğŸ® Chá»n Game</div>
            <div class="subtitle">Chá»n trÃ² chÆ¡i báº¡n muá»‘n chÆ¡i</div>
        </div>

        <div class="user-info" id="userInfo">
            <h3>ThÃ´ng tin ngÆ°á»i dÃ¹ng</h3>
            <p><strong>TÃªn Ä‘Äƒng nháº­p:</strong> <span id="userUsername"></span></p>
            <p><strong>Email:</strong> <span id="userEmail"></span></p>
            <p><strong>Nickname:</strong> <span id="userNickname"></span></p>
            <button id="logoutBtn" class="logout-btn">ÄÄƒng xuáº¥t</button>
        </div>

        <div class="game-grid">
            <div class="game-card" id="line98Card">
                <div class="game-icon">ğŸ¯</div>
                <div class="game-title">Line 98</div>
                <div class="game-description">
                    TrÃ² chÆ¡i solo vá»›i bÃ³ng mÃ u<br>
                    Táº¡o hÃ ng 5 bÃ³ng cÃ¹ng mÃ u Ä‘á»ƒ ghi Ä‘iá»ƒm
                </div>
            </div>

            <div class="game-card" id="caroCard">
                <div class="game-icon">âš”ï¸</div>
                <div class="game-title">Cá» Caro X O</div>
                <div class="game-description">
                    TrÃ² chÆ¡i 2 ngÆ°á»i online<br>
                    Táº¡o hÃ ng 5 kÃ½ hiá»‡u Ä‘á»ƒ tháº¯ng
                </div>
            </div>
        </div>
    </div>

    <!-- Line 98 Game -->
    <div id="line98Game" class="game-container game-area">
        <button id="backToSelection" class="back-btn">â† Quay láº¡i chá»n game</button>
        
        <div class="game-header">
            <div class="game-title-header">ğŸ¯ Line 98</div>
            <div class="game-controls">
                <button id="newGameBtn" class="control-btn control-btn-primary">Game má»›i</button>
                <button id="hintBtn" class="control-btn control-btn-success">Gá»£i Ã½</button>
            </div>
        </div>

        <div class="game-info">
            <div class="score">Äiá»ƒm: <span id="score">0</span></div>
            <div class="status" id="gameStatus">Chá»n bÃ³ng Ä‘á»ƒ báº¯t Ä‘áº§u</div>
        </div>

        <canvas id="line98Canvas" width="450" height="450"></canvas>
    </div>

    <!-- Caro Game -->
    <div id="caroGame" class="game-container game-area">
        <button id="backToSelectionCaro" class="back-btn">â† Quay láº¡i chá»n game</button>
        
        <div class="game-header">
            <div class="game-title-header">âš”ï¸ Cá» Caro X O</div>
            <div class="game-controls">
                <button id="newCaroGameBtn" class="control-btn control-btn-warning">Game má»›i</button>
                <button id="leaveRoomBtn" class="control-btn control-btn-danger" style="display: none;">ThoÃ¡t phÃ²ng</button>
                <div class="ai-controls">
                    <button id="playWithAIBtn" class="control-btn control-btn-info">ChÆ¡i vá»›i mÃ¡y</button>
                    <select id="aiDifficultySelect" class="ai-difficulty-select">
                        <option value="easy">Dá»…</option>
                        <option value="medium" selected>Trung bÃ¬nh</option>
                        <option value="hard">KhÃ³</option>
                    </select>
                </div>
                <button id="playOnlineBtn" class="control-btn control-btn-primary">ChÆ¡i online</button>
            </div>
        </div>

        <div class="game-info">
            <div class="status" id="caroStatus">Chá»n cháº¿ Ä‘á»™ chÆ¡i Ä‘á»ƒ báº¯t Ä‘áº§u</div>
        </div>

        <canvas id="caroCanvas" width="600" height="600"></canvas>
    </div>

    <!-- Load modules in order -->
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/ui-utils.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/line98-game.js"></script>
    <script src="js/caro-game.js"></script>
    <script src="js/app.js"></script>
    
        <!-- Status Display -->
        <div id="statusDisplay" class="status-display" style="display: none;">
            <div class="status-content">
                <div class="status-icon">â³</div>
                <div class="status-text">Äang tÃ¬m Ä‘á»‘i thá»§...</div>
            </div>
        </div>
        
        <!-- Toast Container -->
        <div id="toastContainer" class="toast-container"></div>
</body>
</html>
